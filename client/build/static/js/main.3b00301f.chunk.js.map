{"version":3,"sources":["actions/playerActions.js","middlewares/socketIO.js","reducers/index.js","reducers/client.js","reducers/player.js","store/index.js","components/utils/SearchBar.js","components/videos/SuggestedVideo.js","components/videos/SuggestedVideos.js","components/videos/PlaylistVideo.js","components/videos/Playlist.js","components/videos/VideoDetails.js","components/utils/HostButton.js","components/player/PlayerControls.js","pages/Room.js","App.js","index.js","actions/types.js","actions/index.js","actions/clientActions.js"],"names":["updateVolume","volume","type","UPDATE_VOLUME","updatePlayerState","playerState","UPDATE_PLAYER_STATE","requestVolumeChange","REQUEST_VOLUME_CHANGE","updatePlayback","playback","UPDATE_PLAYBACK","changePlayback","UPDATE_PLAYER","changePlaybackSuccess","UPDATE_PLAYER_SUCCESS","requestPlaybackUpdate","REQUEST_PLAYBACK_UPDATE","startSeeking","START_SEEKING","stopSeeking","STOP_SEEKING","playVideo","PLAY_VIDEO","pauseVideo","PAUSE_VIDEO","socket","combineReducers","client","state","action","UPDATE_PLAYLIST","playlist","UPDATE_SUGGESTED_VIDEOS","suggestedVideos","videos","UPDATE_SOCKET","UPDATE_PLAYER_HEIGHT","playerHeight","height","UPDATE_MASTER","master","player","isPlaying","UPDATE_CURRENT_VIDEO","currentVideo","video","playerShouldBeUpdated","seeking","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","getState","dispatch","next","INIT_SOCKET","socketIO","on","data","updateLocalPlaylist","updateCurrentVideo","document","title","ADD_VIDEO","_","find","obj","id","emit","addAsNext","SELECT_VIDEO","REQUEST_NEXT_VIDEO","REMOVE_VIDEO","REQUEST_PLAYBACK_CHANGE","useState","term","setTerm","useDispatch","searchForVideosDebounced","useCallback","debounce","searchForVideos","TextField","autoFocus","style","margin","textAlign","label","value","onChange","event","target","length","onKeyDown","keyCode","addFirstVideo","InputProps","startAdornment","InputAdornment","position","Grid","item","container","direction","xs","Paper","elevation","ButtonBase","onClick","addSelectedVideo","src","thumbnailURL","alt","maxWidth","maxHeight","Typography","variant","overflow","align","useSelector","map","key","Box","ListItem","paddingTop","paddingBottom","marginTop","marginBottom","button","requestVideoChange","ListItemAvatar","paddingRight","Avatar","width","ListItemText","disableTypography","ListItemSecondaryAction","IconButton","removeVideo","edge","sm","md","overflowY","window","innerWidth","List","generateGeniusSongURL","a","geniusSongURL","indexOfSecondQuotationMark","indexOf","substring","axios","get","res","response","hits","result","url","useRef","geniusURL","setGeniusURL","useEffect","URL","current","scrollHeight","updatePlayerHeight","handleResize","addEventListener","removeEventListener","seekTo","className","ref","controls","playing","onPause","onPlay","onProgress","progress","playedSeconds","config","youtube","playerVars","autoplay","onEnded","playNextVideo","top","left","justify","Link","href","underline","Button","size","ToggleButton","selected","updateMaster","CheckBox","fontSize","color","CheckBoxOutlineBlank","indexOfFirstNumber","duration","elapsed","Date","Math","round","toISOString","substr","i","getIndexOfFirstNumber","Fragment","spacing","alignItems","SkipPrevious","Pause","PlayArrow","SkipNext","VolumeDown","Slider","step","valueLabelDisplay","aria-labelledby","onMouseUp","max","VolumeUp","requestPlaybackChange","Replay10","marks","onMouseDown","Forward10","PlayerControls","SearchBar","HostButton","theme","createMuiTheme","palette","ThemeProvider","CssBaseline","padding","Room","rootEl","getElementById","ReactDOM","render","App","opts","q","maxResults","part","relatedToVideoId","querystring","stringify","items","formattedVideo","parsedTitleEl","DOMParser","parseFromString","snippet","documentElement","textContent","videoId","thumbnails","medium","updateSuggestedVideos","slice","console","log","getDetailsAboutVideo","contentDetails","addVideo","details","moment","ISO_8601","asSeconds","e"],"mappings":"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","file":"static/js/main.3b00301f.chunk.js","sourcesContent":["import {\n  REQUEST_VOLUME_CHANGE,\n  UPDATE_PLAYBACK,\n  UPDATE_CURRENT_VIDEO,\n  UPDATE_VOLUME,\n  UPDATE_PLAYER_SUCCESS,\n  REQUEST_PLAYBACK_CHANGE,\n  REQUEST_PLAYBACK_UPDATE,\n  UPDATE_PLAYER, START_SEEKING, STOP_SEEKING, UPDATE_PLAYER_STATE, PLAY_VIDEO, PAUSE_VIDEO\n} from './types'\n\nexport const updateCurrentVideo = video => ({\n  type: UPDATE_CURRENT_VIDEO,\n  video\n})\n\nexport const updateVolume = volume => ({\n  type: UPDATE_VOLUME,\n  volume\n})\n\nexport const updatePlayerState = playerState => ({\n  type: UPDATE_PLAYER_STATE,\n  playerState\n})\n\nexport const requestVolumeChange = volume => ({\n  type: REQUEST_VOLUME_CHANGE,\n  volume\n})\n\nexport const updatePlayback = playback => ({\n  type: UPDATE_PLAYBACK,\n  playback\n})\n\nexport const changePlayback = () => ({\n  type: UPDATE_PLAYER\n})\n\nexport const changePlaybackSuccess = () => ({\n  type: UPDATE_PLAYER_SUCCESS,\n})\n\nexport const requestPlaybackUpdate = playback => ({\n  type: REQUEST_PLAYBACK_UPDATE,\n  playback\n})\n\nexport const requestPlaybackChange = playback => ({\n  type: REQUEST_PLAYBACK_CHANGE,\n  playback\n})\n\nexport const startSeeking = () => ({\n  type: START_SEEKING\n})\n\nexport const stopSeeking = () => ({\n  type: STOP_SEEKING\n})\n\nexport const playVideo = () => ({\n  type: PLAY_VIDEO\n})\n\nexport const pauseVideo = () => ({\n  type: PAUSE_VIDEO\n})","import socketIO from 'socket.io-client'\nimport {\n  updateLocalPlaylist,\n  updateCurrentVideo,\n  updatePlayback,\n  changePlayback, updatePlayerState\n} from '../actions'\nimport {\n  ADD_VIDEO,\n  INIT_SOCKET, PAUSE_VIDEO, PLAY_VIDEO,\n  REMOVE_VIDEO,\n  REQUEST_NEXT_VIDEO, REQUEST_PLAYBACK_CHANGE, REQUEST_PLAYBACK_UPDATE, REQUEST_VOLUME_CHANGE,\n  SELECT_VIDEO\n} from '../actions/types'\nimport _ from 'lodash'\n\nlet socket\n\nexport default () => ({getState, dispatch}) => next => action => {\n  switch (action.type) {\n    case INIT_SOCKET:\n      if (process.env.NODE_ENV === 'development') {\n        socket = socketIO('http://192.168.0.15:4000')\n      } else {\n        socket = socketIO()\n      }\n      socket.on('setup', data => {\n        dispatch(updateLocalPlaylist(data.playlist))\n        dispatch(updateCurrentVideo(data.currentVideo))\n        dispatch(updatePlayerState(data.playerState))\n      })\n      socket.on('updateList', videos => {\n        dispatch(updateLocalPlaylist(videos))\n      })\n      socket.on('updateVideo', currentVideo => {\n        document.title = currentVideo.title\n        dispatch(updateCurrentVideo(currentVideo))\n      })\n      socket.on('updatePlayerState', playerState => {\n        dispatch(updatePlayerState(playerState))\n      })\n      socket.on('updatePlayback', playback => {\n        if (!getState().player.seeking) {\n          dispatch(updatePlayback(playback))\n        }\n      })\n      socket.on('changePlayback', playback => {\n        dispatch(updatePlayback(playback))\n        if (getState().client.master) {\n          dispatch(changePlayback())\n        }\n      })\n      return\n    case ADD_VIDEO:\n      const playlist = getState().client.playlist\n      if (!_.find(playlist, obj => obj.id === action.video.id)) {\n        socket.emit('addVideo', action.video, action.addAsNext)\n      }\n      return\n    case SELECT_VIDEO:\n      return socket.emit('selectVideo', action.video)\n    case REQUEST_NEXT_VIDEO:\n      return socket.emit('playNextVideo')\n    case REMOVE_VIDEO:\n      return socket.emit('removeVideo', action.video)\n    case REQUEST_VOLUME_CHANGE:\n      return socket.emit('changeVolume', action.volume)\n    case REQUEST_PLAYBACK_UPDATE:\n      return socket.emit('updatePlayback', action.playback)\n    case REQUEST_PLAYBACK_CHANGE:\n      return socket.emit('changePlayback', action.playback)\n    case PLAY_VIDEO:\n      return socket.emit('playVideo')\n    case PAUSE_VIDEO:\n      return socket.emit('pauseVideo')\n    default:\n      return next(action)\n  }\n}","import {combineReducers} from 'redux'\n\nimport client from './client'\nimport player from './player'\n\nexport default combineReducers({\n  client,\n  player\n})","import {\n  UPDATE_SUGGESTED_VIDEOS,\n  UPDATE_SOCKET,\n  UPDATE_PLAYLIST,\n  UPDATE_PLAYER_HEIGHT,\n  UPDATE_MASTER\n} from '../actions/types'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case UPDATE_PLAYLIST:\n      return {...state, playlist: action.playlist}\n    case UPDATE_SUGGESTED_VIDEOS:\n      return {...state, suggestedVideos: action.videos}\n    case UPDATE_SOCKET:\n      return {...state, socket: action.socket}\n    case UPDATE_PLAYER_HEIGHT:\n      return {...state, playerHeight: action.height}\n    case UPDATE_MASTER:\n      return {...state, master: action.master}\n    default:\n      return state\n  }\n}","import {\n  UPDATE_PLAYBACK,\n  UPDATE_CURRENT_VIDEO,\n  UPDATE_VOLUME,\n  UPDATE_PLAYER,\n  UPDATE_PLAYER_SUCCESS,\n  STOP_SEEKING,\n  START_SEEKING,\n  UPDATE_PLAYER_STATE\n} from '../actions/types'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case UPDATE_VOLUME:\n      return {...state, volume: action.volume}\n    case UPDATE_PLAYER_STATE:\n      const {playerState} = action\n      return {...state,\n        volume: playerState.volume,\n        playback: playerState.playback,\n        isPlaying: playerState.isPlaying\n      }\n    case UPDATE_CURRENT_VIDEO:\n      return {...state, currentVideo: action.video}\n    case UPDATE_PLAYBACK:\n      return {...state, playback: action.playback}\n    case UPDATE_PLAYER:\n      return {...state, playerShouldBeUpdated: true}\n    case UPDATE_PLAYER_SUCCESS:\n      return {...state, playerShouldBeUpdated: false}\n    case START_SEEKING:\n      return {...state, seeking: true}\n    case STOP_SEEKING:\n      return {...state, seeking: false}\n    default:\n      return state\n  }\n}","import {applyMiddleware, createStore} from 'redux'\nimport {composeWithDevTools} from 'redux-devtools-extension'\nimport thunk from \"redux-thunk\"\n\nimport rootReducer from '../reducers'\nimport socketIO from '../middlewares/socketIO'\n\nconst store = createStore(\n    rootReducer,\n    composeWithDevTools(\n        applyMiddleware(thunk, socketIO())\n    ))\n\nexport default store","import React, {useCallback, useState} from 'react'\nimport {TextField, InputAdornment} from '@material-ui/core'\nimport Search from '@material-ui/icons/Search';\nimport {addFirstVideo, searchForVideos} from '../../actions'\nimport {useDispatch} from 'react-redux'\nimport {debounce} from 'lodash'\n\nexport default () => {\n  const [term, setTerm] = useState('')\n  const dispatch = useDispatch()\n\n  const searchForVideosDebounced = useCallback(debounce(term => {\n    dispatch(searchForVideos({term}))\n  }, 300), [])\n\n  return <TextField\n      autoFocus\n      style={{margin: 10, textAlign: 'center'}}\n      label=\"Search\"\n      value={term}\n      onChange={event => {\n        const term = event.target.value\n        setTerm(term)\n        if (term.length) {\n          searchForVideosDebounced(term)\n        }\n      }}\n      onKeyDown={event => {\n        if (event.keyCode === 13) {\n          dispatch(addFirstVideo())\n        }\n      }}\n      InputProps={{\n        startAdornment:\n            <InputAdornment position=\"start\">\n              <Search/>\n            </InputAdornment>\n      }}\n  />\n}","import React from 'react'\nimport {Grid, Paper, ButtonBase, Typography} from '@material-ui/core'\nimport {useDispatch} from 'react-redux'\nimport {addSelectedVideo} from '../../actions'\n\nexport default ({video}) => {\n  const dispatch = useDispatch()\n\n  return <Grid item container direction=\"column\" xs>\n    <Paper elevation={2}>\n      <Grid item>\n        <ButtonBase onClick={() => dispatch(addSelectedVideo(video))}>\n          <img src={video.thumbnailURL} alt=\"Thumbnail\"\n               style={{\n                 margin: '2px',\n                 maxWidth: '100%',\n                 maxHeight: '100%'\n               }}\n          />\n        </ButtonBase>\n      </Grid>\n      <Grid item>\n        <ButtonBase onClick={() => dispatch(addSelectedVideo(video, true))}>\n          <Typography variant=\"subtitle1\" style={{height: '3.3em', overflow: 'hidden'}}\n                      align=\"left\">\n            {video.title}\n          </Typography>\n        </ButtonBase>\n      </Grid>\n    </Paper>\n  </Grid>\n}","import React from 'react'\nimport VideoListItem from './SuggestedVideo'\nimport {Box} from '@material-ui/core'\nimport {useSelector} from 'react-redux'\n\nexport default () => {\n  const videos = useSelector(state => state.client.suggestedVideos)\n\n  return videos && videos.length\n      ? videos.map(video =>\n          <VideoListItem\n              key={video.id}\n              video={video}\n          />)\n      : <Box>\n        Click the title to play the video<br/>\n        Click the thumbnail to add to the playlist\n      </Box>\n}","import React from 'react'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport {\n  ListItemAvatar,\n  Avatar,\n  ListItemText,\n  ListItemSecondaryAction,\n  IconButton,\n  ListItem,\n  Typography,\n  Paper\n} from '@material-ui/core'\nimport {removeVideo, requestVideoChange} from '../../actions'\nimport {useDispatch} from 'react-redux'\n\nexport default ({video}) => {\n  const dispatch = useDispatch()\n\n  return <Paper>\n    <ListItem style={{paddingTop: 0, paddingBottom: 0, marginTop: 2, marginBottom: 2}}\n              key={video.id} button\n              onClick={() => dispatch(requestVideoChange(video))}>\n      <ListItemAvatar style={{paddingRight: 8}}>\n        <Avatar style={{height: '50px', width: '70px'}} variant=\"square\"\n                src={video.thumbnailURL}\n                alt={\"Thumbnail\"}/>\n      </ListItemAvatar>\n      <ListItemText disableTypography>\n        <Typography variant=\"subtitle1\" style={{height: '3.3em', overflow: 'hidden'}}\n                    align=\"left\">{video.title}</Typography>\n      </ListItemText>\n      <ListItemSecondaryAction>\n        <IconButton onClick={() => dispatch(removeVideo(video))}\n                    edge={'end'}><DeleteIcon/></IconButton>\n      </ListItemSecondaryAction>\n    </ListItem>\n  </Paper>\n}","import React from 'react'\nimport VideoPlaylistItem from './PlaylistVideo'\nimport {List, Grid} from '@material-ui/core'\nimport {useSelector} from 'react-redux'\n\nexport default () => {\n  const playlist = useSelector(state => state.client.playlist)\n  const playerHeight = useSelector(state => state.client.playerHeight)\n  const master = useSelector(state => state.client.master)\n\n  return !playlist\n      ? null\n      : <Grid item xs={12} sm={12} md={4}\n              style={{\n                overflowY: 'auto',\n                maxHeight: master && window.innerWidth >= 960 && playerHeight\n              }}>\n        <List style={{paddingTop: 0, paddingBottom: 0}}>\n          {playlist.map(video => {\n            return <VideoPlaylistItem\n                key={video.id}\n                video={video}/>\n          })}\n        </List>\n      </Grid>\n}","import React, {useEffect, useRef, useState} from 'react'\nimport ReactPlayer from 'react-player'\nimport {Grid, Typography, Link, Button} from '@material-ui/core'\nimport {useDispatch, useSelector} from 'react-redux'\nimport axios from 'axios'\n\nimport {\n  playNextVideo,\n  updatePlayerHeight,\n  changePlaybackSuccess, requestPlaybackUpdate, pauseVideo, playVideo\n} from '../../actions'\n\nconst GENIUS_API_KEY = 'DncOPjHRnMOPSe3Yzl56lpCsIah0zalJ-u9UjhWetfuaZ_4lsaA6RYhDsZSTEkWK'\n\nconst generateGeniusSongURL = async title => {\n  if (!title) {\n    return ''\n  }\n  let geniusSongURL = ''\n  let indexOfSecondQuotationMark = title.indexOf('\"', title.indexOf('\"') + 1) //some advanced searching algorithms XD\n  if (indexOfSecondQuotationMark > 0) {\n    title = title.substring(0, indexOfSecondQuotationMark + 1)\n  } else if (title.indexOf(' ', title.indexOf('- ') + 2) > 0) {\n    title = title.substring(0, title.indexOf(' ', title.indexOf('- ') + 2))\n  } else {\n    title = ''\n  }\n  if (title.length) {\n    const res = await axios.get(\n        `https://api.genius.com/search?q=${title}&access_token=${GENIUS_API_KEY}`)\n    if (res.data.response.hits[0]) {\n      geniusSongURL = res.data.response.hits[0].result.url\n    }\n  }\n  return geniusSongURL\n}\n\nexport default () => {\n  const video = useSelector(state => state.player.currentVideo)\n  const dispatch = useDispatch()\n  const player = useRef()\n  const playerHeight = useSelector(state => state.client.playerHeight)\n  const [geniusURL, setGeniusURL] = useState('')\n  const volume = useSelector(state => state.player.volume)\n  const playback = useSelector(state => state.player.playback)\n  const isPlaying = useSelector(state => state.player.isPlaying)\n  const playerShouldBeUpdated = useSelector(state => state.player.playerShouldBeUpdated)\n\n  useEffect(() => async () => {\n    const URL = await generateGeniusSongURL(video && video.title)\n    setGeniusURL(URL)\n  }, [video])\n\n  useEffect(() => {\n    if (player && player.current && player.current.scrollHeight\n        && player.current.scrollHeight !== playerHeight) {\n      video && dispatch(updatePlayerHeight(player.current.scrollHeight))\n    }\n  }, [player, video, dispatch, playerHeight])\n\n  useEffect(() => {\n    const handleResize = () => {\n      if (player && player.current && player.current.scrollHeight\n          && player.current.scrollHeight !== playerHeight) {\n        dispatch(updatePlayerHeight(player.current.scrollHeight))\n      }\n    }\n    window.addEventListener('resize', handleResize)\n    return () => {\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [player, dispatch, playerHeight])\n\n  if (playerShouldBeUpdated && player.current) {\n    player.current.seekTo(playback)\n    dispatch(changePlaybackSuccess())\n  }\n\n  return !video\n      ? null\n      : <Grid item container direction=\"column\" sm={12} md={8}>\n        <Grid item className=\"video\">\n          <ReactPlayer\n              ref={player}\n              controls\n              playing={isPlaying}\n              onPause={() => dispatch(pauseVideo())}\n              onPlay={() => dispatch(playVideo())}\n              url={`https://www.youtube.com/watch?v=${video.id}`}\n              onProgress={progress => {\n                dispatch(requestPlaybackUpdate(progress.playedSeconds))\n              }}\n              config={{youtube: {playerVars: {autoplay: 1}}}}\n              onEnded={() => dispatch(playNextVideo())}\n              height={'100%'}\n              width={'100%'}\n              volume={volume / 100}\n              style={{position: 'absolute', top: 0, left: 0}}\n          />\n        </Grid>\n        <Grid container item justify=\"space-between\" style={{paddingTop: 5}}>\n          <Grid item>\n            <Typography variant={'h6'}>{video.title}</Typography>\n          </Grid>\n          <Grid item>\n            <Link href={geniusURL} target={'_blank'} underline={'none'}>\n              <Button variant={'outlined'} size=\"small\">\n                Lyrics\n              </Button>\n            </Link>\n          </Grid>\n        </Grid>\n      </Grid>\n}","import {ToggleButton} from '@material-ui/lab'\r\nimport {updateMaster} from '../../actions'\r\nimport {Typography} from '@material-ui/core'\r\nimport {CheckBox, CheckBoxOutlineBlank} from '@material-ui/icons'\r\nimport React from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\nexport default () => {\r\n  const master = useSelector(state => state.client.master)\r\n  const dispatch = useDispatch()\r\n\r\n  return (\r\n      <ToggleButton\r\n          value=\"check\"\r\n          selected={master}\r\n          size={'small'}\r\n          onChange={() => dispatch(updateMaster())}\r\n      >\r\n        <Typography variant=\"subtitle2\">\r\n          Host\r\n        </Typography>\r\n        {master\r\n            ? <CheckBox fontSize=\"small\" color=\"primary\"/>\r\n            : <CheckBoxOutlineBlank fontSize=\"small\"/>}\r\n      </ToggleButton>\r\n  )\r\n}","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport {\n  Forward10, Pause, PlayArrow, Replay10, SkipNext, SkipPrevious, VolumeDown, VolumeUp\n} from '@material-ui/icons'\nimport {useDispatch, useSelector} from 'react-redux'\nimport ButtonBase from '@material-ui/core/ButtonBase'\nimport {Slider} from '@material-ui/core'\nimport {\n  pauseVideo, playVideo,\n  requestPlaybackChange, requestVideoChange,\n  requestVolumeChange,\n  startSeeking,\n  stopSeeking,\n  updatePlayback,\n  updateVolume\n} from '../../actions'\n\nconst getIndexOfFirstNumber = elapsed => {\n  for (let i = 0; i < elapsed.length; i++) {\n    if (elapsed[i] !== '0' && elapsed[i] !== ':') {\n      return i\n    }\n  }\n  return 0\n}\n\nexport default () => {\n  const video = useSelector(state => state.player.currentVideo)\n  const isPlaying = useSelector(state => state.player.isPlaying)\n  const volume = useSelector(state => state.player.volume)\n  const playback = useSelector(state => state.player.playback) || 0\n  const dispatch = useDispatch()\n  let indexOfFirstNumber\n  let duration\n  let elapsed = new Date(1000 * Math.round(playback)).toISOString().substr(11, 8)\n\n  if (video && video.duration) {\n    duration = new Date(1000 * Math.round(video.duration || 0)).toISOString().substr(11, 8)\n    indexOfFirstNumber = getIndexOfFirstNumber(duration)\n    elapsed = elapsed.substr(indexOfFirstNumber, 8 - indexOfFirstNumber)\n    duration = duration.substr(indexOfFirstNumber, 8 - indexOfFirstNumber)\n  }\n\n  return !video ? null : <React.Fragment>\n    <Grid item>\n      <Typography align=\"center\" variant=\"h6\" color=\"secondary\">\n        {video.title}\n      </Typography>\n    </Grid>\n\n    <Grid item container spacing={1} justify=\"center\" alignItems=\"center\">\n      <Grid item>\n        <ButtonBase onClick={() => {\n          dispatch(requestVideoChange(-1))\n        }}>\n          <SkipPrevious/>\n        </ButtonBase>\n      </Grid>\n      <Grid item>\n        <ButtonBase>\n          {isPlaying\n              ? <Pause onClick={() => dispatch(pauseVideo())} fontSize=\"large\"/>\n              : <PlayArrow onClick={() => dispatch(playVideo())} fontSize=\"large\"/>}\n        </ButtonBase>\n      </Grid>\n      <Grid item>\n        <ButtonBase onClick={() => {\n          dispatch(requestVideoChange(1))\n        }}>\n          <SkipNext/>\n        </ButtonBase>\n      </Grid>\n    </Grid>\n\n    <Grid item container spacing={1}>\n      <Grid item>\n        <ButtonBase onClick={() => dispatch(requestVolumeChange(volume - 10))}>\n          <VolumeDown/>\n        </ButtonBase>\n      </Grid>\n      <Grid item xs>\n        <Slider\n            step={5}\n            valueLabelDisplay=\"auto\"\n            aria-labelledby=\"discrete-slider\"\n            onChange={(event, value) => {\n              dispatch(updateVolume(value))\n            }}\n            onMouseUp={() => dispatch(requestVolumeChange(volume))}\n            value={volume} max={100}\n        />\n      </Grid>\n      <Grid item>\n        <ButtonBase onClick={() => dispatch(requestVolumeChange(volume + 10))}>\n          <VolumeUp/>\n        </ButtonBase>\n      </Grid>\n    </Grid>\n\n    <Grid item container spacing={1}>\n      <Grid item>\n        <ButtonBase onClick={() => dispatch(requestPlaybackChange(playback - 10))}>\n          <Replay10/>\n        </ButtonBase>\n      </Grid>\n      <Grid item xs>\n        <Slider aria-labelledby=\"continuous-slider\"\n                marks={[\n                  {value: 0, label: elapsed},\n                  {value: video.duration, label: duration}\n                ]}\n                value={playback}\n                step={1}\n                onChange={(event, value) => dispatch(updatePlayback(value))}\n                onMouseDown={() => dispatch(startSeeking())}\n                onMouseUp={() => {\n                  dispatch(requestPlaybackChange(playback))\n                  dispatch(stopSeeking())\n                }}\n                max={video.duration}/>\n      </Grid>\n      <Grid item>\n        <ButtonBase onClick={() => dispatch(requestPlaybackChange(playback + 10))}>\n          <Forward10/>\n        </ButtonBase>\n      </Grid>\n    </Grid>\n  </React.Fragment>\n}\n","import React, {Fragment} from 'react'\r\n\r\nimport {Grid} from '@material-ui/core'\r\nimport {useSelector} from 'react-redux'\r\n\r\nimport SearchBar from '../components/utils/SearchBar'\r\nimport VideoList from '../components/videos/SuggestedVideos'\r\nimport VideoPlaylist from '../components/videos/Playlist'\r\nimport VideoDetail from '../components/videos/VideoDetails'\r\nimport HostButton from '../components/utils/HostButton'\r\nimport PlayerControls from '../components/player/PlayerControls'\r\n\r\nexport default () => {\r\n  const master = useSelector(state => state.client.master)\r\n\r\n  return (\r\n      <Fragment>\r\n        <Grid item container justify=\"center\" direction=\"column\"\r\n              style={{maxWidth: '400px', margin: '0 auto'}}>\r\n          {!master && <PlayerControls/>}\r\n        </Grid>\r\n        <Grid container alignItems=\"center\" justify=\"center\">\r\n          <Grid item>\r\n            <SearchBar/>\r\n          </Grid>\r\n          <Grid item>\r\n            <HostButton/>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid container direction=\"row\" justify=\"space-evenly\"\r\n              alignItems=\"stretch\" spacing={1}>\r\n          <VideoList/>\r\n        </Grid>\r\n\r\n        <Grid container style={{overflow: 'hidden', paddingTop: 16}} justify=\"center\">\r\n          {master && <VideoDetail/>}\r\n          <VideoPlaylist/>\r\n        </Grid>\r\n      </Fragment>\r\n  )\r\n}","import React, {useEffect} from 'react'\n\nimport {createMuiTheme, CssBaseline, Paper} from '@material-ui/core'\nimport {ThemeProvider} from \"@material-ui/styles\";\n\nimport {useDispatch} from 'react-redux'\nimport {INIT_SOCKET} from './actions/types'\nimport Room from './pages/Room'\n\nexport default () => {\n  const dispatch = useDispatch()\n  useEffect(() => dispatch({type: INIT_SOCKET}))\n\n  const theme = createMuiTheme({palette: {type: \"dark\"}})\n\n  return (\n      <ThemeProvider theme={theme}>\n        <CssBaseline/>\n        <Paper style={{maxWidth: 1200, margin: '0 auto', padding: 5}} elevation={3}>\n          <Room/>\n        </Paper>\n      </ThemeProvider>\n  )\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport store from './store'\nimport {Provider} from 'react-redux'\nimport App from './App'\nimport {BrowserRouter} from 'react-router-dom'\nimport './styles/style.css'\n\nconst rootEl = document.getElementById('root')\n\nconst renderApp = () =>\n    ReactDOM.render(\n        <Provider store={store}>\n          <BrowserRouter>\n            <App/>\n          </BrowserRouter>\n        </Provider>,\n        rootEl\n    )\n\nrenderApp()\n\nif (module.hot) {\n  module.hot.accept('./App', renderApp)\n}","export const UPDATE_SUGGESTED_VIDEOS  = 'UPDATE_SUGGESTED_VIDEOS'\nexport const UPDATE_SOCKET            = 'UPDATE_SOCKET'\nexport const UPDATE_CURRENT_VIDEO     = 'UPDATE_CURRENT_VIDEO'\nexport const REQUEST_NEXT_VIDEO       = 'REQUEST_NEXT_VIDEO'\n\nexport const UPDATE_PLAYLIST          = 'UPDATE_PLAYLIST'\nexport const ADD_VIDEO                = 'ADD_VIDEO'\nexport const SELECT_VIDEO             = 'SELECT_VIDEO'\nexport const REMOVE_VIDEO             = 'REMOVE_VIDEO'\nexport const INIT_SOCKET              = 'INIT_SOCKET'\n\nexport const UPDATE_PLAYER_HEIGHT     = 'UPDATE_PLAYER_HEIGHT'\nexport const UPDATE_MASTER            = 'UPDATE_MASTER'\n\nexport const REQUEST_VOLUME_CHANGE    = 'REQUEST_VOLUME_CHANGE'\nexport const UPDATE_VOLUME            = 'UPDATE_VOLUME'\nexport const UPDATE_PLAYER            = 'UPDATE_PLAYER'\nexport const UPDATE_PLAYER_SUCCESS    = 'UPDATE_PLAYER_SUCCESS'\nexport const UPDATE_PLAYBACK          = 'UPDATE_PLAYBACK'\nexport const REQUEST_PLAYBACK_CHANGE  = 'REQUEST_PLAYBACK_CHANGE'\nexport const REQUEST_PLAYBACK_UPDATE  = 'REQUEST_PLAYBACK_UPDATE'\nexport const START_SEEKING            = 'START_SEEKING'\nexport const STOP_SEEKING             = 'STOP_SEEKING'\nexport const UPDATE_PLAYER_STATE      = 'UPDATE_PLAYER_STATE'\nexport const PLAY_VIDEO               = 'PLAY_VIDEO'\nexport const PAUSE_VIDEO              = 'PAUSE_VIDEO'","export * from './authActions'\nexport * from './clientActions'\nexport * from './playerActions'","import {\n  UPDATE_SUGGESTED_VIDEOS,\n  UPDATE_CURRENT_VIDEO,\n  UPDATE_PLAYLIST,\n  ADD_VIDEO,\n  REMOVE_VIDEO,\n  UPDATE_PLAYER_HEIGHT, UPDATE_MASTER, SELECT_VIDEO, REQUEST_NEXT_VIDEO, REQUEST_PLAYBACK_CHANGE\n} from './types'\n\nimport axios from 'axios'\nimport querystring from 'querystring'\nimport moment, {ISO_8601} from 'moment'\n\nconst YOUTUBE_API_KEY = 'AIzaSyCVdT6xJMmub0pTiQfRJLOP0r-K3r9vpnE'\n\nconst YouTubeSearchAPI = 'https://www.googleapis.com/youtube/v3/search?'\nconst YouTubeVideosAPI = 'https://www.googleapis.com/youtube/v3/videos?'\n\nexport const searchForVideos = ({term, id}) => async dispatch => {\n  try {\n    const opts = {\n      q: term,\n      maxResults: 6,\n      type: 'video',\n      key: YOUTUBE_API_KEY,\n      part: 'snippet'\n    }\n    if (id) {\n      opts.relatedToVideoId = id\n    }\n    let response = await axios.get(YouTubeSearchAPI + querystring.stringify(opts))\n    let videos = response.data.items\n    videos = videos.map(video => {\n      const formattedVideo = {}\n      let parsedTitleEl = new DOMParser().parseFromString(video.snippet.title, \"text/html\");\n      formattedVideo.title = parsedTitleEl.documentElement.textContent\n      formattedVideo.id = video.id.videoId\n      formattedVideo.thumbnailURL = video.snippet.thumbnails.medium.url\n      return formattedVideo\n    })\n    dispatch(updateSuggestedVideos(videos.slice(0, 5)))\n  } catch (e) {\n    console.log(e)\n  }\n}\n\nconst getDetailsAboutVideo = async id => {\n  const opts = {\n    id,\n    part: 'contentDetails',\n    key: YOUTUBE_API_KEY\n  }\n  let response = await axios.get(YouTubeVideosAPI + querystring.stringify(opts))\n  return response.data.items[0].contentDetails\n}\n\nconst updateSuggestedVideos = videos => ({\n  type: UPDATE_SUGGESTED_VIDEOS,\n  videos\n})\n\nexport const updateLocalPlaylist = playlist => ({\n  type: UPDATE_PLAYLIST,\n  playlist\n})\n\nexport const updateCurrentVideo = video => ({\n  type: UPDATE_CURRENT_VIDEO,\n  video\n})\n\nexport const playNextVideo = () => ({\n  type: REQUEST_NEXT_VIDEO\n})\n\nexport const addVideo = (video, addAsNext) => dispatch => {\n  dispatch(searchForVideos({id: video.id}))\n  dispatch({\n    type: ADD_VIDEO,\n    video,\n    addAsNext\n  })\n}\n\nexport const addSelectedVideo = (video, addAsNext) => async dispatch => {\n  const details = await getDetailsAboutVideo(video.id)\n  video.duration = moment.duration(details.duration, ISO_8601).asSeconds()\n  dispatch(addVideo(video, addAsNext))\n}\n\nexport const addFirstVideo = () => (dispatch, getState) => {\n  try {\n    const video = getState().client.suggestedVideos[0]\n    dispatch(addVideo(video))\n  } catch (e) {\n    console.log(\n        'You haven\\'t searched for videos but still you want to add first one with Enter key')\n  }\n}\n\nexport const removeVideo = video => ({\n  type: REMOVE_VIDEO,\n  video\n})\n\nexport const updatePlayerHeight = height => ({\n  type: UPDATE_PLAYER_HEIGHT,\n  height\n})\n\nexport const updateMaster = () => (dispatch, getState) => {\n  dispatch({\n    type: UPDATE_MASTER,\n    master: !getState().client.master\n  })\n}\n\nexport const requestVideoChange = video => ({\n  type: SELECT_VIDEO,\n  video\n})\n\nexport const requestPlaybackChange = playback => ({\n  type: REQUEST_PLAYBACK_CHANGE,\n  playback\n})"],"sourceRoot":""}